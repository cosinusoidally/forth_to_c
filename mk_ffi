./mk_clean

echo "Build ffi with tcc"
tcc buzzard2_ffi.c -o artifacts/buzzard2_tcc
echo ""
echo "Build ffi with gcc"
gcc -O0 -g buzzard2_ffi.c -o artifacts/buzzard2_gcc
echo "Build ffi with otccelf"
../tcc_bootstrap_alt/otccelf/artifacts/otccelf_js3.exe buzzard2_ffi.c artifacts/buzzard2_otccelf
chmod +x artifacts/buzzard2_otccelf

echo "run with tcc version:"
cat buzzard2/third_ffi test.fth | ./artifacts/buzzard2_tcc

echo "run with gcc version:"
cat buzzard2/third_ffi test.fth | ./artifacts/buzzard2_gcc

echo "run with otccelf version:"
cat buzzard2/third_ffi test.fth | ./artifacts/buzzard2_otccelf

ls -l artifacts
